<?xml version="1.0" encoding="utf-8"?>
<odoo>

  <record id="res_partner_inherit" model="ir.ui.view">
      <field name="name">res.partner.inherit</field>
      <field name="model">res.partner</field>
      <field name="inherit_id" ref="base.view_partner_form"/>
      <field name="arch" type="xml">
          <field name='vat' position='after'>
            <field name='isstudent'/>
          </field>
      </field>
  </record>

  <record model="ir.ui.view" id="student_info_tree_view">
        <field name="name">student.info.tree.view</field>
        <field name="model">student.info</field>
        <field name="arch" type="xml">
            <tree>
              <field name='id'/>
              <field name='name'/>
              <field name='standard'/>
              <field name='birthdate'/>
              <field name="school_medium"/>
              <field name='roll_number'/>
              <field name='age' optional="hide"/>
              <field name='email' widget='email'/>
              <field name='contact_number' widget='phone'/>
              <field name='address'/>
              <field name='height'/>
              <field name='aadhar_card'/>
              <field name='gender' widget='radio' options="{'horizontal': true}"/>
              <field name='newdate'/>
            </tree>
        </field>
  </record>

  <record model="ir.ui.view" id="student_info_form_view">
        <field name="name">student.info.form.view</field>
        <field name="model">student.info</field>
        <field name="arch" type="xml">
          <form>
            <header>
              <button class="oe_highlight" name="student_action_confirm"
                                string="Confirm" states="draft" type="object" groups="school_management.group_teacher_user"/>
              <button class="oe_highlight" name="student_action_cancel"
                                string="Cancel" states="confirm" type="object"/>
              <button class="oe_highlight" name="student_action_reset"
                                string="Reset" states="cancel" type="object"/>
              <button class="oe_highlight" name="student_action_search"
                                string="Search" states="draft" type="object"/>     
              <!-- <button class="oe_highlight" name="teacher_action"
                                string="(0,0,vals)" type="object"/>                                -->
              <field name="state" widget="statusbar" statusbar_visible="draft,confirm,cancel"/>
            </header>
          	<sheet>
              <div class="oe_button_box" name="button_box">
                <button class="oe_stat_button" type="object" name="add_participants" icon="fa-car">
                  <field string="Participants" name="participants_count" widget="statinfo"/>
                </button>
              </div>
              <h1>
                <field name="name"  placeholder="Enter Name" />
              </h1>
          		<group>
                <group>
          				<!-- <field name="name" placeholder="Enter Name"/> -->
          				<field name="birthdate"/>
                  <field name="standard" widget='radio' options="{'horizontal': true}"/>
          				<field name="roll_number"/>
          				<field name="age"/>
                  <field name="student"/>
                  <field name="school_medium"/>
                  <field name='gender' widget='radio' options="{'horizontal': true}"/>
          				<field name="contact_number" widget='phone'/>
                  <field name="image"/>
                  <field name="active"/>
                </group>
                <group>  
                <!-- attrs used for to perform operation on attrs contain field by changing another field -->
                  <field name='address' attrs="{'required':[('student','=',False)]}"/>
                  <field name='height'/>
                  <field name='aadhar_card'/>
                  <field name="email" widget='email'/>
                  <field name='newdate'/>
                  <field name="blood_group"/>
                  <field name="teacher_id"/>
                  <!-- <field name="teacher_subject" readonly="1"/> -->
                  <field name="teacher_subject" readonly="1"/>
                  <field name="sport_ids" optional="hide" widget="many2many_tags" 
        options="{'color_field': 'color'}"/>
                  <field name="category_id" optional="hide" widget="many2many_tags" options="{'color_field': 'color'}"/>
                </group>
          		</group>
              <notebook>
                <page string='Student Note'>
                  <group>
                    <field name='student_note'/>
                  </group>
                </page>
                <page string='Teacher Note'>
                  <group>
                    <field name='teacher_note' attrs="{'invisible':[('student','=',True)]}"/>
                  </group>
                </page>
                <page string='Academic History'>
                  <separator string='Attendence'/>
                  <group>
                    <group>
                      <field name='attendence' attrs="{'readonly':[('student','=',True)]}"/>
                    </group>
                    <group>
                      <field name='internal_mark'/>
                      <field name='final_mark'/>
                    </group>
                  </group>
                </page>
              </notebook>
          	</sheet>
          </form>
        </field>  
  </record>

  <record id="student_kanban_view" model="ir.ui.view">
    <field name="name">student.kanban.view</field>
    <field name="model">student.info</field>
    <field name="arch" type="xml">
      <kanban class="o_res_partner_kanban">
        <field name="id"/>
        <field name="name"/>
        <field name="standard"/>
        <field name="roll_number"/>
        <field name="image"/>
        <templates>
            <t t-name="kanban-box">
                <div t-attf-class="oe_kanban_global_click">
                  <t t-if="record.image.value">
                    <div class="o_kanban_image">
                      <img alt="Avatar" t-att-src="kanban_image('student.info', 'image',record.id.raw_value)"/>
                    </div>
                  </t>
                  <t t-else="">
                    <div class="o_kanban_image">
                      <img alt="Avatar" t-att-src="kanban_image('student.info', '/base/static/img/avatar_grey.png',record.id.raw_value)"/>
                    </div>  
                  </t>  
                  <div class="oe_kanban_details">
                    <strong class="o_kanban_record_title">
                      <field name="name"/>
                    </strong>
                  <div t-if="record.roll_number.value">
                    Roll Number: <t t-esc="record.roll_number.value"/>
                  </div>
                  <div t-if="record.standard.value">
                    Standard: <t t-esc="record.standard.value"/>
                  </div>
                  </div>
                </div>
            </t>
        </templates>
      </kanban>
    </field>
  </record>    
 
  <record model="ir.ui.view" id="student_search_view">
    <field name="name">student.search.view</field>
    <field name="model">student.info</field>
    <field name="arch" type="xml">
      <search string="Search Student">
        <field name="name"/>
        <field name="roll_number"/>
        <filter string="Male" name="male" domain="[('gender','=','male')]"/>
        <filter string="Female" name="female" domain="[('gender','=','female')]"/>
        <filter string="Others" name="others" domain="[('gender','=','others')]"/>
        <group expand="1" string="Standard_groupBy">
          <field string="Standard" name="standard" context="{'group_by':'standard'}"/>
        </group>
      </search>
    </field>
  </record> 

           

  <record id="student_info_view" model="ir.actions.act_window">
      <field name="name">Student</field>
      <field name="res_model">student.info</field>
      <field name="view_mode">kanban,tree,form</field>
  
      
  </record>

  <menuitem id="school_root" name="School"/>
  <menuitem id="school_nav" name="Student" parent="school_root" action="student_info_view"/>

</odoo>